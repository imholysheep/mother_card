<!DOCTYPE html>
<html>
<head>
  <style>
  #canvas_area{
  width:600px;
  height:400px;
  background-image:url(https://s-media-cache-ak0.pinimg.com/736x/a6/ae/86/a6ae86c9c858be44ff03d51f8137a9b9.jpg);
  background-size:cover;
  padding:20px;

}
.card textarea{
  border:none;
  background-color:floralwhite;
  padding:10px;
  
}
  </style>
<script src="https://code.jquery.com/jquery-2.1.4.js"></script>

  <meta charset="utf-8">
  <title>HTML to Image</title>
</head>
<body onload="draw();">

  <div id="canvas_area"  class="card">

    <textarea rows="25" cols="40" type="text" name="content"  maxlength="48" placeholder="內容"></textarea>
    </div>
  <hr />
  <input type="button" id="turn" value="轉為圖檔" />
  <a class="btn" id="download" value="sheep_dn_button"/>download</a>
  <fieldset id="down_img">
    <legend>圖檔</legend>
    <div >
    </div>
  </fieldset>

<script src="http://html2canvas.hertzen.com/build/html2canvas.js"></script>
  <script>
    /*sheep 自訂*/
/*轉成圖檔*/
 $("#turn").click(function() {
      html2canvas($("#canvas_area")[0], {
        onrendered: function(canvas) {
          var $div = $("fieldset div");
          $div.empty();
          $("<img />", { src: canvas.toDataURL("image/png") }).appendTo($div);
        }
      });
    });
        
/*download*/
     $('#download').click(function(){
    html2canvas($('#down_img'), 
    {
      onrendered: function (canvas) {
        var a = document.createElement('a');
        // toDataURL defaults to png, so we need to request a jpeg, then convert for file download.
        a.href = canvas.toDataURL("image/jpeg").replace("image/jpeg", "image/octet-stream");
        a.download = 'somefilename.jpg';
        a.click();
      }
    });
  });

    </script>
</body>

</html>
